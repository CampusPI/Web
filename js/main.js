"use strict";angular.module("tvApp",["ngResource","btford.modal","ngRoute","googleOauth"]).config(function($routeProvider){$routeProvider.when("/",{templateUrl:"templates/home.html",controller:"appCtrl"}).when("/videos",{templateUrl:"templates/video.html",controller:"videoCtrl"})}).config(function(TokenProvider){TokenProvider.extendConfig({clientId:"859779641004-cvl4ppt05dj26eprlv0eer3hrbmkpudf.apps.googleusercontent.com",redirectUri:"http://localhost:9068/bower_components/angular-oauth/src/oauth2callback.html",scopes:["https://www.googleapis.com/auth/userinfo.email"]})}),angular.module("tvApp").factory("loginModal",function(btfModal){return btfModal({controller:"loginCtrl",template:'<div class="btf-modal">Hello {{name}}</div>'})}),angular.module("tvApp").controller("loginCtrl",function($scope,loginModal,$http,Token,$rootScope,$location){$scope.name="Campe√£o",$scope.showModal=function(){console.log("chamou"),loginModal.activate()},$scope.$on("$routeChangeStart",function(){verify()});var verify=function(){console.log(Token),$scope.accessToken=Token.get(),$scope.accessToken&&Token.verifyAsync($scope.accessToken).then(function(){$scope.accessTokenVerified=!0,$http.get("http://localhost:8080/api/web/user",{headers:{Authorization:"Bearer "+$scope.accessToken}}).success(function(data){$scope.user=data,console.log(data)})},function(){console.log("Failed to verify token.")})};$scope.login=function(){Token.extendConfig({state:$location.absUrl()});var extraParams={};Token.getTokenWithRedirect(extraParams)}}),angular.module("tvApp").controller("appCtrl",function($scope){$scope.cenas="Coiso"}),angular.module("tvApp").controller("videoCtrl",function(){});